/**
 * V3 Sprint 6: Responsive Utilities
 *
 * Breakpoint-aware utility classes for responsive design.
 * Mobile-first approach with consistent breakpoints.
 */

/* ============================================
   BREAKPOINT VARIABLES
   ============================================ */

:root {
  --bp-xs: 375px;   /* Small phones */
  --bp-sm: 640px;   /* Large phones */
  --bp-md: 768px;   /* Tablets */
  --bp-lg: 1024px;  /* Laptops */
  --bp-xl: 1280px;  /* Desktops */
  --bp-2xl: 1536px; /* Large screens */
}

/* ============================================
   CONTAINER UTILITIES
   ============================================ */

.container-responsive {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

@media (min-width: 640px) {
  .container-responsive {
    max-width: 640px;
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }
}

@media (min-width: 768px) {
  .container-responsive {
    max-width: 768px;
  }
}

@media (min-width: 1024px) {
  .container-responsive {
    max-width: 1024px;
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }
}

@media (min-width: 1280px) {
  .container-responsive {
    max-width: 1280px;
  }
}

/* ============================================
   GRID UTILITIES
   ============================================ */

.grid-menu {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(2, 1fr);
}

@media (min-width: 640px) {
  .grid-menu {
    gap: 16px;
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1024px) {
  .grid-menu {
    gap: 24px;
    grid-template-columns: repeat(4, 1fr);
  }
}

.grid-kpi {
  display: grid;
  gap: 12px;
  grid-template-columns: repeat(2, 1fr);
}

@media (min-width: 768px) {
  .grid-kpi {
    gap: 16px;
    grid-template-columns: repeat(4, 1fr);
  }
}

/* ============================================
   TOUCH TARGETS
   ============================================ */

.touch-target {
  min-height: 44px;
  min-width: 44px;
}

@media (min-width: 1024px) {
  .touch-target-desktop {
    min-height: 32px;
    min-width: 32px;
  }
}

/* Primary action buttons - larger on mobile */
.touch-target-primary {
  min-height: 56px;
  min-width: 56px;
}

@media (min-width: 1024px) {
  .touch-target-primary {
    min-height: 44px;
    min-width: 44px;
  }
}

/* ============================================
   TYPOGRAPHY SCALE
   ============================================ */

.text-scale-display {
  font-size: 2rem;
  line-height: 1.2;
}

@media (min-width: 768px) {
  .text-scale-display {
    font-size: 2.5rem;
  }
}

@media (min-width: 1024px) {
  .text-scale-display {
    font-size: 3rem;
  }
}

.text-scale-heading {
  font-size: 1.5rem;
  line-height: 1.25;
}

@media (min-width: 768px) {
  .text-scale-heading {
    font-size: 1.75rem;
  }
}

@media (min-width: 1024px) {
  .text-scale-heading {
    font-size: 2rem;
  }
}

/* ============================================
   VISIBILITY UTILITIES
   ============================================ */

.hide-mobile {
  display: none;
}

@media (min-width: 640px) {
  .hide-mobile {
    display: block;
  }
}

.show-mobile-only {
  display: block;
}

@media (min-width: 640px) {
  .show-mobile-only {
    display: none;
  }
}

.hide-tablet {
  display: block;
}

@media (min-width: 768px) and (max-width: 1023px) {
  .hide-tablet {
    display: none;
  }
}

.hide-desktop {
  display: block;
}

@media (min-width: 1024px) {
  .hide-desktop {
    display: none;
  }
}

.show-desktop-only {
  display: none;
}

@media (min-width: 1024px) {
  .show-desktop-only {
    display: block;
  }
}

/* ============================================
   SPACING UTILITIES
   ============================================ */

.padding-page {
  padding: var(--space-4);
}

@media (min-width: 640px) {
  .padding-page {
    padding: var(--space-6);
  }
}

@media (min-width: 1024px) {
  .padding-page {
    padding: var(--space-8);
  }
}

.margin-section {
  margin-top: var(--space-6);
  margin-bottom: var(--space-6);
}

@media (min-width: 768px) {
  .margin-section {
    margin-top: var(--space-8);
    margin-bottom: var(--space-8);
  }
}

@media (min-width: 1024px) {
  .margin-section {
    margin-top: var(--space-12);
    margin-bottom: var(--space-12);
  }
}

/* ============================================
   LAYOUT UTILITIES
   ============================================ */

/* Stack on mobile, side-by-side on larger screens */
.stack-to-row {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

@media (min-width: 768px) {
  .stack-to-row {
    flex-direction: row;
    gap: var(--space-6);
  }
}

/* Full width on mobile, constrained on larger screens */
.full-to-constrained {
  width: 100%;
}

@media (min-width: 768px) {
  .full-to-constrained {
    max-width: 600px;
  }
}

/* Sidebar layout */
.layout-with-sidebar {
  display: flex;
  flex-direction: column;
}

@media (min-width: 1024px) {
  .layout-with-sidebar {
    flex-direction: row;
  }

  .layout-with-sidebar .main-content {
    flex: 1;
    min-width: 0;
  }

  .layout-with-sidebar .sidebar {
    width: 320px;
    flex-shrink: 0;
  }
}

/* ============================================
   SAFE AREA UTILITIES (iOS)
   ============================================ */

.safe-area-inset-top {
  padding-top: env(safe-area-inset-top, 0);
}

.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-area-inset-left {
  padding-left: env(safe-area-inset-left, 0);
}

.safe-area-inset-right {
  padding-right: env(safe-area-inset-right, 0);
}

.safe-area-all {
  padding-top: env(safe-area-inset-top, 0);
  padding-right: env(safe-area-inset-right, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
  padding-left: env(safe-area-inset-left, 0);
}

/* ============================================
   SCROLLING UTILITIES
   ============================================ */

.scroll-horizontal {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.scroll-horizontal::-webkit-scrollbar {
  display: none;
}

.scroll-snap-x {
  scroll-snap-type: x mandatory;
}

.scroll-snap-item {
  scroll-snap-align: start;
}

/* ============================================
   MODAL/OVERLAY POSITIONING
   ============================================ */

/* Full screen on mobile, centered on desktop */
.modal-responsive {
  position: fixed;
  inset: 0;
}

@media (min-width: 640px) {
  .modal-responsive {
    inset: auto;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 600px;
    max-height: 90vh;
    border-radius: var(--radius-lg);
  }
}

/* Bottom sheet on mobile, drawer on desktop */
.sheet-responsive {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  max-height: 90vh;
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
}

@media (min-width: 640px) {
  .sheet-responsive {
    top: 0;
    bottom: 0;
    left: auto;
    right: 0;
    width: 400px;
    max-height: 100vh;
    border-radius: 0;
  }
}
