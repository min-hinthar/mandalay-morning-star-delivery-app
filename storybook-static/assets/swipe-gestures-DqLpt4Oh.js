import{r as e}from"./iframe-CP6pxBQd.js";const k={delete:{reveal:80,auto:200},close:{default:100},navigation:{default:50}},O={delete:500,close:500,navigation:200},I={light:10,medium:25,heavy:40,success:[10,50,10],warning:[30,50,30],error:[50,100,50]};function _(x){const{revealThreshold:s=k.delete.reveal,autoDeleteThreshold:a=k.delete.auto,velocityThreshold:D=O.delete,onDelete:p,onRevealChange:n,onProgress:t,disabled:u=!1,hapticEnabled:l=!0}=x,[m,v]=e.useState(!1),[f,d]=e.useState(0),[b,h]=e.useState(!1),g=e.useRef(!1),M=e.useCallback(()=>{h(!1),d(0),n?.(!1)},[n]),C=e.useCallback(()=>{v(!0),g.current=!1},[]),E=e.useCallback((o,r)=>{const y=r.offset.x;d(y);const H=Math.min(Math.abs(y)/a,1);t?.(H);const R=y<-s;R!==b&&(h(R),n?.(R),l&&R&&!g.current&&(S("light"),g.current=!0)),l&&y<-a*.9&&!g.current&&S("medium")},[s,a,b,n,t,l]),T=e.useCallback((o,r)=>{v(!1),r.offset.x<-a||r.velocity.x<-D?(l&&S("success"),p()):(d(0),h(!1),n?.(!1))},[a,D,p,n,l]),w=e.useMemo(()=>u?{}:{drag:"x",dragConstraints:{left:-a-50,right:0},dragElastic:{left:.15,right:0},dragMomentum:!1,onDragStart:C,onDrag:E,onDragEnd:T,style:{touchAction:"pan-y"}},[u,a,C,E,T]),c=Math.min(Math.abs(f)/a,1),i=e.useMemo(()=>{const o=Math.min(Math.abs(f)/s,1);return{opacity:o,scale:.6+o*.4,isImminent:Math.abs(f)>a*.9}},[f,s,a]);return{motionProps:w,isDragging:m,dragOffset:f,progress:c,isRevealed:b,deleteButtonProps:i,reset:M}}function A(x){const{threshold:s=k.close.default,velocityThreshold:a=O.close,onClose:D,onDrag:p,disabled:n=!1,direction:t="down",hapticEnabled:u=!0}=x,[l,m]=e.useState(!1),[v,f]=e.useState(0),d=e.useRef(!1),b=e.useCallback(()=>{m(!0),d.current=!1},[]),h=e.useCallback((w,c)=>{const i=t==="down"?c.offset.y:c.offset.x;f(i),p?.(i);const o=t==="left"?i<-s:i>s;u&&o&&!d.current&&(S("light"),d.current=!0)},[t,s,p,u]),g=e.useCallback((w,c)=>{m(!1),f(0);const i=t==="down"?c.offset.y:c.offset.x,o=t==="down"?c.velocity.y:c.velocity.x;(t==="left"?i<-s||o<-a:i>s||o>a)&&(u&&S("light"),D())},[t,s,a,D,u]),M=e.useMemo(()=>n?{}:{drag:t==="down"?"y":"x",dragConstraints:t==="down"?{top:0,bottom:0}:t==="left"?{left:0,right:0}:{left:0,right:0},dragElastic:t==="down"?{top:.1,bottom:.6}:t==="left"?{left:.6,right:.1}:{left:.1,right:.6},dragMomentum:!1,onDragStart:b,onDrag:h,onDragEnd:g,style:{touchAction:t==="down"?"pan-x":"pan-y"}},[n,t,b,h,g]),C=Math.min(Math.abs(v)/s,1),E=t==="left"?v<-s:v>s,T=Math.max(1-C*.5,.5);return{motionProps:M,isDragging:l,dragOffset:v,progress:C,willClose:E,backdropOpacity:T}}function L(x){const{threshold:s=k.navigation.default,velocityThreshold:a=O.navigation,onNext:D,onPrev:p,isFirst:n=!1,isLast:t=!1,disabled:u=!1,hapticEnabled:l=!0,onDragHint:m}=x,[v,f]=e.useState(!1),[d,b]=e.useState(0),[h,g]=e.useState(null),M=e.useRef(!1),C=e.useCallback(()=>{f(!0),M.current=!1,g(null)},[]),E=e.useCallback((i,o)=>{b(o.offset.x);let r=null;o.offset.x<-s*.5&&!t?r="next":o.offset.x>s*.5&&!n&&(r="prev"),r!==h&&(g(r),m?.(r),l&&r&&!M.current&&(S("light"),M.current=!0))},[s,n,t,h,m,l]),T=e.useCallback((i,o)=>{f(!1),b(0),g(null),m?.(null);const{offset:r,velocity:y}=o;if((r.x<-s||y.x<-a)&&!t&&D){l&&S("light"),D();return}(r.x>s||y.x>a)&&!n&&p&&(l&&S("light"),p())},[s,a,n,t,D,p,l,m]),w=e.useMemo(()=>u?{}:{drag:"x",dragConstraints:{left:t?-30:-120,right:n?30:120},dragElastic:{left:t?.15:.4,right:n?.15:.4},dragMomentum:!1,onDragStart:C,onDrag:E,onDragEnd:T,style:{touchAction:"pan-y"}},[u,n,t,C,E,T]),c=Math.min(Math.abs(d)/s,1);return{motionProps:w,isDragging:v,dragOffset:d,progress:c,directionHint:h}}function S(x="light"){if(typeof navigator>"u"||!("vibrate"in navigator))return;const s=I[x];try{navigator.vibrate(s)}catch{}}export{L as a,_ as b,S as t,A as u};
