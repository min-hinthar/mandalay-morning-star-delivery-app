---
phase: 03-navigation-layout
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui-v8/navigation/AppShell.tsx
  - src/components/ui-v8/navigation/PageContainer.tsx
  - src/components/ui-v8/navigation/index.ts
autonomous: true

must_haves:
  truths:
    - "AppShell provides slots for header and bottom nav"
    - "PageContainer applies consistent spacing across breakpoints"
    - "Content area fills available space between header and nav"
  artifacts:
    - path: "src/components/ui-v8/navigation/AppShell.tsx"
      provides: "Main layout wrapper with slots"
      exports: ["AppShell", "AppShellProps"]
    - path: "src/components/ui-v8/navigation/PageContainer.tsx"
      provides: "Consistent page spacing wrapper"
      exports: ["PageContainer", "PageContainerProps"]
    - path: "src/components/ui-v8/navigation/index.ts"
      provides: "Barrel export for navigation components"
  key_links:
    - from: "AppShell.tsx"
      to: "children prop"
      via: "flex-1 main element"
      pattern: "flex-1|flex-grow"
    - from: "PageContainer.tsx"
      to: "children prop"
      via: "max-width and padding"
      pattern: "max-w-7xl.*px-4"
---

<objective>
Create the app shell layout foundation with AppShell wrapper and PageContainer spacing component.

Purpose: Establish the structural foundation that all navigation components (header, bottom nav) compose into, ensuring content areas have correct spacing and are never blocked by fixed elements.

Output: AppShell.tsx, PageContainer.tsx, navigation/index.ts barrel export
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-navigation-layout/03-RESEARCH.md
@src/design-system/tokens/z-index.ts
@src/lib/motion-tokens.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create AppShell layout component</name>
  <files>src/components/ui-v8/navigation/AppShell.tsx</files>
  <action>
Create AppShell component with these props:
- `children: React.ReactNode` - main content
- `headerSlot?: React.ReactNode` - optional header content (right side)
- `showHeader?: boolean` - default true
- `showBottomNav?: boolean` - default true
- `className?: string` - additional container classes

Structure:
```
<div className="flex min-h-screen flex-col">
  {showHeader && <header placeholder div with z-fixed, h-[72px] for spacing />}
  <main className="flex-1 pt-[72px] pb-16 md:pb-0">
    {children}
  </main>
  {showBottomNav && <nav placeholder div with z-fixed for mobile bottom nav />}
</div>
```

Notes:
- Use `z-fixed` from zClass design tokens for fixed positioning layers
- Header height is 72px (will shrink to 56px on scroll, handled by Header component)
- Bottom nav is 64px (h-16) on mobile only (hidden md:hidden)
- Add `pt-safe` class for iOS safe area on header area
- Add `pb-safe` for bottom nav iOS safe area
- Mark as "use client" - uses responsive logic

Do NOT implement Header or BottomNav yet - just placeholder divs with comments indicating where they slot in. Plans 02 and 03 will fill these.
  </action>
  <verify>
- File exists at src/components/ui-v8/navigation/AppShell.tsx
- Exports AppShell and AppShellProps
- Uses z-fixed from design tokens (not hardcoded z-index)
- Has flex layout with flex-1 main content area
  </verify>
  <done>
- AppShell renders with correct structure
- Placeholder areas for header and bottom nav
- Main content fills available space
  </done>
</task>

<task type="auto">
  <name>Task 2: Create PageContainer spacing component</name>
  <files>src/components/ui-v8/navigation/PageContainer.tsx</files>
  <action>
Create PageContainer component with these props:
- `children: React.ReactNode`
- `className?: string`
- `padTop?: boolean` - default true, adds top padding
- `padBottom?: boolean` - default true, adds bottom padding
- `maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | '2xl' | '7xl' | 'full'` - default '7xl'
- `as?: React.ElementType` - default 'div', allows semantic elements

Spacing rules:
- Horizontal: `px-4 sm:px-6 lg:px-8`
- Top (if padTop): `pt-6 sm:pt-8`
- Bottom (if padBottom): `pb-20 sm:pb-8` (extra mobile padding for bottom nav)
- Center: `mx-auto`
- Max width variants:
  - sm: max-w-sm
  - md: max-w-md
  - lg: max-w-lg
  - xl: max-w-xl
  - 2xl: max-w-2xl
  - 7xl: max-w-7xl (default)
  - full: max-w-full

Use cn() utility for class merging.
Mark as client component only if needed (prefer server component if possible).
  </action>
  <verify>
- File exists at src/components/ui-v8/navigation/PageContainer.tsx
- Exports PageContainer and PageContainerProps
- Has responsive padding (px-4 sm:px-6 lg:px-8)
- Has max-width constraint with mx-auto centering
- Supports maxWidth variants
  </verify>
  <done>
- PageContainer provides consistent spacing
- Supports all maxWidth variants
- Extra bottom padding for mobile bottom nav clearance
  </done>
</task>

<task type="auto">
  <name>Task 3: Create navigation barrel export</name>
  <files>src/components/ui-v8/navigation/index.ts</files>
  <action>
Create barrel export file exporting:
- AppShell, AppShellProps from ./AppShell
- PageContainer, PageContainerProps from ./PageContainer

Add JSDoc comment at top:
```typescript
/**
 * Navigation Components Barrel Export
 * App shell layout, page containers, header, bottom nav, mobile menu
 */
```

Note: Header, BottomNav, MobileMenu will be added by Plans 02 and 03.
  </action>
  <verify>
- File exists at src/components/ui-v8/navigation/index.ts
- Exports AppShell, AppShellProps, PageContainer, PageContainerProps
- No TypeScript errors (run pnpm typecheck)
  </verify>
  <done>
- Barrel export functional
- All components importable from @/components/ui-v8/navigation
  </done>
</task>

</tasks>

<verification>
```bash
# Type check
pnpm typecheck

# Verify exports work
grep -l "AppShell" src/components/ui-v8/navigation/index.ts
grep -l "PageContainer" src/components/ui-v8/navigation/index.ts

# Verify z-index tokens used (no hardcoded values)
! grep -E "z-\d+|z-\[" src/components/ui-v8/navigation/*.tsx || echo "No hardcoded z-index found"
```
</verification>

<success_criteria>
- AppShell renders flex column layout with header/content/nav areas
- PageContainer provides responsive spacing with maxWidth options
- Barrel export includes both components with types
- No hardcoded z-index values (uses design tokens)
- pnpm typecheck passes
</success_criteria>

<output>
After completion, create `.planning/phases/03-navigation-layout/03-01-SUMMARY.md`
</output>
