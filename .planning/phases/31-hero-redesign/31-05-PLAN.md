---
phase: 31-hero-redesign
plan: 05
type: execute
wave: 4
depends_on: ["31-03"]
files_modified:
  - src/components/ui/homepage/Hero.tsx
autonomous: true

must_haves:
  truths:
    - "Legacy gradient code removed (no --hero-gradient-start/mid/end usage)"
    - "All hero gradients use semantic tokens only"
    - "Scroll indicator has animated bouncing chevron"
    - "Tagline subtitle appears below headline"
    - "Hero section fully visible on page load (no cutoff)"
  artifacts:
    - path: "src/components/ui/homepage/Hero.tsx"
      provides: "Final hero with tagline and scroll indicator"
      contains: "ChevronDown"
  key_links:
    - from: "src/components/ui/homepage/Hero.tsx"
      to: "src/styles/tokens.css"
      via: "CSS variables"
      pattern: "var\\(--hero-bg-"
---

<objective>
Final polish: tagline, scroll indicator, and legacy code cleanup.

Purpose: Complete HERO-05 (content positioned), HERO-06 (scroll animation), HERO-07 (legacy code removed). Add the tagline per CONTEXT.md.

Output: Finalized Hero component meeting all phase requirements.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/31-hero-redesign/31-CONTEXT.md
@.planning/phases/31-hero-redesign/31-RESEARCH.md
@.planning/phases/31-hero-redesign/31-04-SUMMARY.md
@src/components/ui/homepage/Hero.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add tagline and update scroll indicator</name>
  <files>src/components/ui/homepage/Hero.tsx</files>
  <action>
1. Add tagline prop to HeroProps interface:
```tsx
/** Short tagline below headline */
tagline?: string;
```

2. Add tagline prop to HeroContentProps and update default in HeroContent:
```tsx
tagline = "Authentic Burmese delivered"
```

3. Add tagline rendering after the AnimatedHeadline:
```tsx
{/* Animated Headline */}
<AnimatedHeadline
  text={headline}
  className="font-display text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-hero-text mb-4 leading-tight"
/>

{/* Tagline per CONTEXT.md */}
<motion.p
  className="text-lg md:text-xl text-hero-text/70 font-medium mb-6"
  initial={shouldAnimate ? { opacity: 0, y: 10 } : undefined}
  animate={shouldAnimate ? { opacity: 1, y: 0 } : undefined}
  transition={shouldAnimate ? { ...getSpring(spring.default), delay: 0.5 } : undefined}
>
  {tagline}
</motion.p>
```

4. Update the scroll indicator to use ChevronDown with better animation:
```tsx
import { ArrowRight, ChefHat, Clock, MapPin, ChevronDown } from "lucide-react";

// In scroll indicator section (at bottom of HeroContent):
<motion.div
  className="absolute bottom-8 left-1/2 -translate-x-1/2"
  initial={shouldAnimate ? { opacity: 0 } : undefined}
  animate={shouldAnimate ? { opacity: 1 } : undefined}
  transition={{ delay: 1.5 }}
>
  <motion.div
    className="flex flex-col items-center gap-1 text-hero-text-muted cursor-pointer"
    animate={shouldAnimate ? { y: [0, 8, 0] } : undefined}
    transition={{ duration: 2, repeat: Infinity, ease: "easeInOut" }}
    onClick={() => {
      document.getElementById("how-it-works")?.scrollIntoView({ behavior: "smooth" });
    }}
    role="button"
    aria-label="Scroll to learn more"
  >
    <span className="text-xs uppercase tracking-widest">Scroll</span>
    <ChevronDown className="w-6 h-6" />
  </motion.div>
</motion.div>
```

Note: Added onClick for scroll-to functionality and proper a11y attributes.
  </action>
  <verify>Visual test: see tagline below headline, chevron bounces at bottom</verify>
  <done>Tagline and improved scroll indicator added with proper accessibility</done>
</task>

<task type="auto">
  <name>Task 2: Remove legacy gradient references</name>
  <files>src/components/ui/homepage/Hero.tsx</files>
  <action>
Search and remove any remaining references to the OLD hero gradient tokens (--hero-gradient-*).

1. Search for: `--hero-gradient-start`, `--hero-gradient-mid`, `--hero-gradient-end`
2. Replace with: `--hero-bg-start`, `--hero-bg-mid`, `--hero-bg-end` (already done in 31-02, but verify)

3. Check the GradientFallback component - ensure it ONLY uses:
   - `var(--hero-bg-start)`
   - `var(--hero-bg-mid)`
   - `var(--hero-bg-end)`

4. Remove the --hero-overlay reference from the gradient overlay div if present:
   - The new design doesn't need the dark overlay since we're using warm gradients
   - Delete the "Gradient overlay for text readability" div if it exists

5. Ensure the hero-text classes still work (they reference --hero-text which remains valid):
   - `text-hero-text` should still render white text
   - `text-hero-text-muted` should still render 70% opacity white

This completes HERO-07: "Legacy gradient code removed, uses semantic tokens only"
  </action>
  <verify>grep -n "hero-gradient-" src/components/ui/homepage/Hero.tsx returns empty (no legacy references)</verify>
  <done>Legacy gradient tokens removed, all gradients use --hero-bg-* tokens</done>
</task>

<task type="auto">
  <name>Task 3: Ensure full viewport visibility</name>
  <files>src/components/ui/homepage/Hero.tsx</files>
  <action>
Verify and fix any viewport height issues per HERO-01 and HERO-05.

1. Confirm the hero section uses proper viewport units:
```tsx
className={cn(
  "relative min-h-[100svh] min-h-[100dvh] overflow-hidden isolate",
  className
)}
```

2. Ensure the content container centers content properly (not pushed to bottom):
```tsx
// In HeroContent, the main div should be:
<div className="relative flex flex-col items-center justify-center min-h-[100svh] min-h-[100dvh] px-4 py-16 md:py-20">
```

Note: Changed from `justify-end` (bottom aligned) to `justify-center` should have been done in 31-02.

3. Remove any `pt-16` or large top padding that could push content down.

4. The time-based greeting badge should have reasonable top margin, not push other content:
```tsx
className="inline-flex items-center gap-2 px-4 py-2 mb-4 rounded-full..."
```
(Change mb-6 to mb-4 if needed)

5. Check that stats bar doesn't cause overflow:
   - Consider hiding stats bar on very small screens if needed
   - Or reduce padding

6. Test on mobile viewport (375px width) - all content should be visible without scrolling within hero.

This completes HERO-01: "Hero section visible without cutoff on page load"
  </action>
  <verify>Visual test: open on mobile (375x667), all hero content visible without scroll</verify>
  <done>Hero content properly centered and fully visible on all viewport sizes</done>
</task>

</tasks>

<verification>
1. Run: `pnpm typecheck` - no type errors
2. Run: `pnpm build` - build succeeds
3. Run: `grep -c "hero-gradient-" src/components/ui/homepage/Hero.tsx` - returns 0
4. Run: `grep -c "hero-bg-" src/components/ui/homepage/Hero.tsx` - returns 3+ (new tokens in use)
5. Visual: Tagline "Authentic Burmese delivered" visible below headline
6. Visual: Scroll indicator bounces with chevron icon
7. Visual: Click scroll indicator - smooth scrolls to "how-it-works" section
8. Visual: Mobile (375px) - all content visible, no cutoff
9. Visual: Theme toggle - works smoothly with new warm gradients
10. Run verification suite: `pnpm lint && pnpm lint:css && pnpm typecheck && pnpm test && pnpm build`
</verification>

<success_criteria>
- Tagline appears below headline with subtle animation
- Scroll indicator uses ChevronDown with bounce animation
- Clicking scroll indicator smooth-scrolls to how-it-works
- Zero references to --hero-gradient-* (legacy tokens)
- All gradients use --hero-bg-* tokens
- Hero content fully visible on mobile without scrolling
- All phase requirements (HERO-01 through HERO-07) satisfied
- Full verification suite passes
</success_criteria>

<output>
After completion, create `.planning/phases/31-hero-redesign/31-05-SUMMARY.md`
</output>
