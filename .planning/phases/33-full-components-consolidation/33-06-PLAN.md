---
phase: 33-full-components-consolidation
plan: 06
type: execute
wave: 3
depends_on: ["33-03"]
files_modified:
  - src/components/ThemeProvider.tsx
  - src/components/WebVitalsReporter.tsx
  - src/components/ui/theme/
  - src/lib/web-vitals.tsx
autonomous: true

must_haves:
  truths:
    - "No loose files at components/ root"
    - "ThemeProvider in ui/theme/"
    - "WebVitalsReporter moved to lib/ (non-UI concern)"
  artifacts:
    - path: "src/components/ui/theme/ThemeProvider.tsx"
      provides: "Theme provider component"
    - path: "src/lib/web-vitals.tsx"
      provides: "Web vitals reporter"
  key_links:
    - from: "consumers"
      to: "@/components/ui/theme"
      via: "import"
      pattern: "from.*@/components/ui/theme"
---

<objective>
Move loose files at components/ root to appropriate locations.

Purpose: Clean components root - no loose files allowed per CONTEXT.md
Output: ThemeProvider in ui/theme/, WebVitalsReporter in lib/
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-full-components-consolidation/33-CONTEXT.md
@src/components/ThemeProvider.tsx
@src/components/WebVitalsReporter.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Move ThemeProvider to ui/theme/</name>
  <files>
    src/components/ThemeProvider.tsx
    src/components/ui/theme/ThemeProvider.tsx
    src/components/ui/theme/index.ts
  </files>
  <action>
    1. Move ThemeProvider.tsx to ui/theme/:
       src/components/ThemeProvider.tsx -> src/components/ui/theme/ThemeProvider.tsx

    2. Update or create ui/theme/index.ts to export it:
       ```typescript
       export { ThemeProvider } from "./ThemeProvider";
       export { DynamicThemeProvider } from "./DynamicThemeProvider";
       // Keep any existing exports
       ```

    3. Find and update all imports:
       grep -rn "from.*@/components/ThemeProvider" src/ --include="*.tsx" --include="*.ts"
       grep -rn "from.*@/components/ui/ThemeProvider" src/ --include="*.tsx" --include="*.ts"

       Change to: from "@/components/ui/theme" or from "@/components/ui/theme/ThemeProvider"
  </action>
  <verify>
    ThemeProvider.tsx exists in ui/theme/
    grep "@/components/ThemeProvider" returns empty
    pnpm typecheck passes
  </verify>
  <done>
    ThemeProvider moved to ui/theme/
  </done>
</task>

<task type="auto">
  <name>Task 2: Move WebVitalsReporter to lib/</name>
  <files>
    src/components/WebVitalsReporter.tsx
    src/lib/web-vitals.tsx
  </files>
  <action>
    1. WebVitalsReporter.tsx is a monitoring utility, not a UI component.
       Move to lib/ (per CONTEXT.md):
       src/components/WebVitalsReporter.tsx -> src/lib/web-vitals.tsx

       Note: Research suggests lib/web-vitals.tsx may already exist as a companion file.
       If so, merge the functionality or keep both if they serve different purposes.

    2. Find and update all imports:
       grep -rn "from.*@/components/WebVitalsReporter" src/ --include="*.tsx" --include="*.ts"

       Change to: from "@/lib/web-vitals"

    3. Delete the old file from components/
  </action>
  <verify>
    WebVitalsReporter.tsx no longer exists in components/
    web-vitals functionality accessible from lib/
    pnpm build passes
  </verify>
  <done>
    WebVitalsReporter moved to lib/
  </done>
</task>

</tasks>

<verification>
- pnpm build passes
- pnpm typecheck passes
- pnpm lint passes
- ls src/components/*.tsx returns only directories (no loose files)
- ThemeProvider importable from @/components/ui/theme
</verification>

<success_criteria>
- No loose .tsx files at src/components/ root
- ThemeProvider in ui/theme/
- WebVitalsReporter in lib/
- All consumers updated
</success_criteria>

<output>
After completion, create `.planning/phases/33-full-components-consolidation/33-06-SUMMARY.md`
</output>
