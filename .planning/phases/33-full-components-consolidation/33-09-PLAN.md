---
phase: 33-full-components-consolidation
plan: 09
type: execute
wave: 5
depends_on: ["33-07", "33-08"]
files_modified:
  - src/components/theme/
  - src/components/ui/theme/
autonomous: true

must_haves:
  truths:
    - "theme/ directory no longer exists at components root"
    - "All theme components consolidated in ui/theme/"
    - "Consumer imports updated"
  artifacts:
    - path: "src/components/ui/theme/"
      provides: "All theme-related components and providers"
    - path: "src/components/ui/theme/index.ts"
      provides: "Theme barrel export"
  key_links:
    - from: "consumers"
      to: "@/components/ui/theme"
      via: "import"
      pattern: "from.*@/components/ui/theme"
---

<objective>
Merge theme/ into ui/theme/ and update consumer imports.

Purpose: Consolidate theme directory - theme/ has DynamicThemeProvider that should join ui/theme/
Output: Single ui/theme/ with all theme utilities
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-full-components-consolidation/33-06-SUMMARY.md
@src/components/theme/
@src/components/ui/theme/
</context>

<tasks>

<task type="auto">
  <name>Task 1: Merge theme/ into ui/theme/</name>
  <files>
    src/components/theme/
    src/components/ui/theme/
  </files>
  <action>
    Check what's in theme/ (should be DynamicThemeProvider.tsx per RESEARCH.md).

    Move any files not already in ui/theme/:
    - theme/DynamicThemeProvider.tsx -> ui/theme/DynamicThemeProvider.tsx (if not already there)
    - Move any other theme/ files

    Note: Plan 06 moved ThemeProvider.tsx to ui/theme/. DynamicThemeProvider may already be there from earlier phase.

    If DynamicThemeProvider already exists in ui/theme/, just delete theme/ directory.
    If not, move and then delete.
  </action>
  <verify>
    ls src/components/theme fails
    ls src/components/ui/theme succeeds
    pnpm typecheck passes
  </verify>
  <done>
    theme/ merged into ui/theme/
  </done>
</task>

<task type="auto">
  <name>Task 2: Update consumer imports and barrel export</name>
  <files>
    src/components/ui/theme/index.ts
  </files>
  <action>
    1. Update ui/theme/index.ts to export all theme utilities:
       ```typescript
       export { ThemeProvider } from "./ThemeProvider";
       export { DynamicThemeProvider } from "./DynamicThemeProvider";
       // Add any other theme exports
       ```

    2. Find and update all imports from @/components/theme:
       grep -rn "from.*@/components/theme[^-]" src/ --include="*.tsx" --include="*.ts"

       Change to: from "@/components/ui/theme"

    3. Update ui/index.ts to re-export theme:
       ```typescript
       export * from "./theme";
       ```
  </action>
  <verify>
    grep "@/components/theme[^-]" returns empty (exclude theme-toggle etc)
    pnpm build passes
  </verify>
  <done>
    All theme imports use ui/theme/
  </done>
</task>

</tasks>

<verification>
- pnpm build passes
- pnpm typecheck passes
- pnpm lint passes
- No imports from @/components/theme remain
- theme/ directory deleted
</verification>

<success_criteria>
- All theme utilities in ui/theme/
- theme/ directory removed
- All consumers import from @/components/ui/theme
</success_criteria>

<output>
After completion, create `.planning/phases/33-full-components-consolidation/33-09-SUMMARY.md`
</output>
