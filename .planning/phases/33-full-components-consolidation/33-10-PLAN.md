---
phase: 33-full-components-consolidation
plan: 10
type: execute
wave: 6
depends_on: ["33-02", "33-03", "33-05", "33-07", "33-08", "33-09"]
files_modified:
  - eslint.config.mjs
autonomous: true

must_haves:
  truths:
    - "ESLint errors on imports from removed directories"
    - "Guards cover: menu/, scroll/, layout/, layouts/, tracking/, onboarding/, mascot/, admin/, checkout/, driver/, homepage/, orders/, auth/, theme/"
    - "Lint passes on current codebase"
  artifacts:
    - path: "eslint.config.mjs"
      provides: "no-restricted-imports rules for all removed directories"
  key_links:
    - from: "any file"
      to: "removed directories"
      via: "import"
      pattern: "error when importing from removed paths"
---

<objective>
Add ESLint guards for all removed directories.

Purpose: Prevent recreation of consolidated directories - lint errors stop future imports to old paths
Output: ESLint configuration with comprehensive import guards
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/33-full-components-consolidation/33-RESEARCH.md
@eslint.config.mjs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add ESLint guards for all removed directories</name>
  <files>
    eslint.config.mjs
  </files>
  <action>
    Update no-restricted-imports rule in eslint.config.mjs to add guards for ALL removed directories.

    Add these patterns to the existing no-restricted-imports rule (after ui-v8 guard):

    ```javascript
    // Phase 33: Full Components Consolidation guards
    {
      group: ["@/components/menu/*", "@/components/menu", "**/components/menu/*"],
      message: "menu/ consolidated into ui/menu/. Import from @/components/ui/menu."
    },
    {
      group: ["@/components/scroll/*", "@/components/scroll", "**/components/scroll/*"],
      message: "scroll/ consolidated into ui/scroll/. Import from @/components/ui/scroll."
    },
    {
      group: ["@/components/layout/*", "@/components/layout", "**/components/layout/*"],
      message: "layout/ consolidated into ui/layout/. Import from @/components/ui/layout."
    },
    {
      group: ["@/components/layouts/*", "@/components/layouts", "**/components/layouts/*"],
      message: "layouts/ consolidated into ui/layout/. Import from @/components/ui/layout or @/components/ui for primitives."
    },
    {
      group: ["@/components/tracking/*", "@/components/tracking", "**/components/tracking/*"],
      message: "tracking/ consolidated into ui/orders/tracking/. Import from @/components/ui/orders."
    },
    {
      group: ["@/components/onboarding/*", "@/components/onboarding", "**/components/onboarding/*"],
      message: "onboarding/ consolidated into ui/auth/. Import from @/components/ui/auth."
    },
    {
      group: ["@/components/mascot/*", "@/components/mascot", "**/components/mascot/*"],
      message: "mascot/ consolidated into ui/brand/. Import from @/components/ui/brand."
    },
    {
      group: ["@/components/admin/*", "@/components/admin", "**/components/admin/*"],
      message: "admin/ consolidated into ui/admin/. Import from @/components/ui/admin."
    },
    {
      group: ["@/components/checkout/*", "@/components/checkout", "**/components/checkout/*"],
      message: "checkout/ consolidated into ui/checkout/. Import from @/components/ui/checkout."
    },
    {
      group: ["@/components/driver/*", "@/components/driver", "**/components/driver/*"],
      message: "driver/ consolidated into ui/driver/. Import from @/components/ui/driver."
    },
    {
      group: ["@/components/homepage/*", "@/components/homepage", "**/components/homepage/*"],
      message: "homepage/ consolidated into ui/homepage/. Import from @/components/ui/homepage."
    },
    {
      group: ["@/components/orders/*", "@/components/orders", "**/components/orders/*"],
      message: "orders/ consolidated into ui/orders/. Import from @/components/ui/orders."
    },
    {
      group: ["@/components/auth/*", "@/components/auth", "**/components/auth/*"],
      message: "auth/ consolidated into ui/auth/. Import from @/components/ui/auth."
    },
    {
      group: ["@/components/theme/*", "@/components/theme", "**/components/theme/*"],
      message: "theme/ consolidated into ui/theme/. Import from @/components/ui/theme."
    }
    ```
  </action>
  <verify>
    pnpm lint passes (no violations in current code)
    ESLint config is valid (no syntax errors)
  </verify>
  <done>
    ESLint guards added for all 14 removed directories
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify guards work and lint passes</name>
  <files>
    eslint.config.mjs
  </files>
  <action>
    1. Run full lint to ensure no existing violations:
       pnpm lint

    2. Create a test file to verify guards work, then delete:
       Create src/test-guard.tsx:
       ```typescript
       import { something } from "@/components/menu";
       ```

       Run pnpm lint src/test-guard.tsx - should error with consolidation message.
       Delete test file.

    3. If lint fails on any existing file, those are bugs from earlier plans - fix the import.
  </action>
  <verify>
    pnpm lint passes
    Test import triggers error
  </verify>
  <done>
    ESLint guards verified working
  </done>
</task>

</tasks>

<verification>
- pnpm lint passes on entire codebase
- Test import to removed directory triggers ESLint error
- All 14 guards configured correctly
</verification>

<success_criteria>
- ESLint config includes guards for all removed directories
- Lint passes (no violations)
- Future imports to old paths blocked at lint time
</success_criteria>

<output>
After completion, create `.planning/phases/33-full-components-consolidation/33-10-SUMMARY.md`
</output>
