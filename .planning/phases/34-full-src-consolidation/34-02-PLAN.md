---
phase: 34-full-src-consolidation
plan: 02
type: execute
wave: 2
depends_on: ["34-01"]
files_modified:
  - src/components/ui/Backdrop.tsx
  - src/components/ui/Toast.tsx
  - src/components/ui/Tooltip.tsx
  - src/components/ui/Dropdown.tsx
  - src/components/ui/Drawer.tsx
  - src/components/ui/Modal.tsx
  - src/components/ui/dropdown-menu.tsx
  - src/components/ui/navigation/MobileDrawer.tsx
  - src/components/ui/search/CommandPalette.tsx
  - src/components/ui/layout/Header.tsx
  - src/components/ui/admin/AdminLayout.tsx
  - src/components/ui/layout/AppHeader.tsx
  - src/components/ui/navigation/AccountIndicator.tsx
  - src/components/ui/scroll/SectionNavDots.tsx
  - src/components/ui/cart/CartBar.tsx
  - src/components/ui/cart/FlyToCart.tsx
  - src/components/ui/menu/SearchAutocomplete.tsx
  - src/components/ui/menu/UnifiedMenuItemCard.tsx
  - src/components/ui/menu/CardImage.tsx
  - src/components/ui/menu/GlassOverlay.tsx
  - src/components/ui/menu/DietaryBadges.tsx
autonomous: true

must_haves:
  truths:
    - "All 27+ files import zIndex from @/lib/design-system/tokens/z-index"
    - "All 6 files import overlayMotion from @/lib/design-system/tokens/motion"
    - "No imports remain from @/design-system/tokens/"
    - "Build passes with new import paths"
  artifacts:
    - path: "src/components/ui/Backdrop.tsx"
      provides: "Backdrop with new import path"
      contains: "@/lib/design-system/tokens"
    - path: "src/components/ui/Modal.tsx"
      provides: "Modal with new import path"
      contains: "@/lib/design-system/tokens"
  key_links:
    - from: "src/components/ui/*.tsx"
      to: "@/lib/design-system/tokens/z-index"
      via: "import statement"
      pattern: "from ['\"]@/lib/design-system/tokens/z-index"
---

<objective>
Update all design-system token imports to new lib/ location

Purpose: Migrate all 27+ consumers to new import path before deleting old directory
Output: All components using @/lib/design-system/tokens/ instead of @/design-system/tokens/
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/34-full-src-consolidation/34-RESEARCH.md
@.planning/phases/34-full-src-consolidation/34-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update z-index imports (23 files)</name>
  <files>Multiple component files in src/components/</files>
  <action>
    Find all files importing from @/design-system/tokens/z-index and update to @/lib/design-system/tokens/z-index.

    Files to update (from research):
    - Backdrop.tsx, Toast.tsx, Tooltip.tsx, Dropdown.tsx, Drawer.tsx, Modal.tsx
    - dropdown-menu.tsx, MobileDrawer.tsx, CommandPalette.tsx, Header.tsx
    - AdminLayout.tsx, AppHeader.tsx, AccountIndicator.tsx, SectionNavDots.tsx
    - CartBar.tsx, FlyToCart.tsx, SearchAutocomplete.tsx
    - UnifiedMenuItemCard.tsx, CardImage.tsx, GlassOverlay.tsx, DietaryBadges.tsx
    - Plus any others found via grep

    Change:
    ```typescript
    // Before:
    import { zIndex } from "@/design-system/tokens/z-index";

    // After:
    import { zIndex } from "@/lib/design-system/tokens/z-index";
    ```

    Use grep to find ALL occurrences first, then update each file atomically.
  </action>
  <verify>
    grep -rn "from ['\"]@/design-system/tokens/z-index" src/ returns no results
    grep -rn "from ['\"]@/lib/design-system/tokens/z-index" src/ returns 23+ results
  </verify>
  <done>All z-index imports use new @/lib/design-system/tokens/z-index path</done>
</task>

<task type="auto">
  <name>Task 2: Update motion imports (6 files)</name>
  <files>Backdrop.tsx, Toast.tsx, Tooltip.tsx, Dropdown.tsx, Drawer.tsx</files>
  <action>
    Find all files importing from @/design-system/tokens/motion and update to @/lib/design-system/tokens/motion.

    Files to update (from research):
    - Backdrop.tsx, Toast.tsx, Tooltip.tsx, Dropdown.tsx, Drawer.tsx

    Change:
    ```typescript
    // Before:
    import { overlayMotion } from "@/design-system/tokens/motion";

    // After:
    import { overlayMotion } from "@/lib/design-system/tokens/motion";
    ```
  </action>
  <verify>
    grep -rn "from ['\"]@/design-system/tokens/motion" src/ returns no results
    grep -rn "from ['\"]@/lib/design-system/tokens/motion" src/ returns 6+ results
  </verify>
  <done>All motion imports use new @/lib/design-system/tokens/motion path</done>
</task>

<task type="auto">
  <name>Task 3: Verify build passes</name>
  <files>None (verification only)</files>
  <action>
    Run full typecheck and build to ensure no broken imports:

    ```bash
    pnpm typecheck
    pnpm build
    ```

    If any errors occur related to design-system imports, fix them before proceeding.
  </action>
  <verify>pnpm typecheck && pnpm build completes without errors</verify>
  <done>Build passes with all imports pointing to new lib/design-system/ location</done>
</task>

</tasks>

<verification>
- [ ] grep finds 0 imports from @/design-system/tokens/
- [ ] grep finds 23+ imports from @/lib/design-system/tokens/z-index
- [ ] grep finds 6+ imports from @/lib/design-system/tokens/motion
- [ ] pnpm typecheck passes
- [ ] pnpm build passes
</verification>

<success_criteria>
All design-system token consumers updated to new import paths, verified by successful build
</success_criteria>

<output>
After completion, create `.planning/phases/34-full-src-consolidation/34-02-SUMMARY.md`
</output>
