---
phase: 34-full-src-consolidation
plan: 03
type: execute
wave: 3
depends_on: ["34-02"]
files_modified:
  - eslint.config.mjs
autonomous: true

must_haves:
  truths:
    - "design-system/ directory deleted from src/"
    - "ESLint guard blocks imports from @/design-system/"
    - "Build still passes after deletion"
  artifacts:
    - path: "eslint.config.mjs"
      provides: "ESLint guard for design-system imports"
      contains: "@/design-system"
  key_links:
    - from: "eslint.config.mjs"
      to: "no-restricted-imports patterns"
      via: "ESLint rule configuration"
      pattern: "design-system.*consolidated"
---

<objective>
Delete old design-system/ directory and add ESLint guard

Purpose: Complete design-system migration by removing old files and preventing accidental re-use
Output: Clean src/ without design-system/, ESLint guard preventing future imports
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/34-full-src-consolidation/34-RESEARCH.md
@.planning/phases/34-full-src-consolidation/34-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete old design-system/ directory</name>
  <files>src/design-system/</files>
  <action>
    Delete the entire src/design-system/ directory and its contents:
    - src/design-system/tokens/z-index.ts
    - src/design-system/tokens/motion.ts
    - src/design-system/tokens/
    - src/design-system/

    Use rm -rf or equivalent to remove the directory tree.
    Verify no remaining references in the codebase.
  </action>
  <verify>
    ls src/design-system/ returns "No such file or directory"
    grep -rn "@/design-system" src/ returns no results (imports already updated)
  </verify>
  <done>src/design-system/ directory completely removed</done>
</task>

<task type="auto">
  <name>Task 2: Add ESLint guard for design-system imports</name>
  <files>eslint.config.mjs</files>
  <action>
    Add ESLint no-restricted-imports rule to block imports from the removed design-system path.

    Add to the patterns array in eslint.config.mjs (after existing Phase 33 guards):

    ```javascript
    // Phase 34: Full src/ Consolidation guards
    {
      group: ["@/design-system/*", "@/design-system", "**/design-system/*"],
      message: "design-system/ consolidated into lib/design-system/. Import from @/lib/design-system."
    }
    ```

    Place this guard after the existing Phase 33 guards in the patterns array.
  </action>
  <verify>pnpm lint passes (no existing imports should fail)</verify>
  <done>ESLint guard prevents any future imports from @/design-system/</done>
</task>

<task type="auto">
  <name>Task 3: Final verification</name>
  <files>None (verification only)</files>
  <action>
    Run full verification to ensure migration is complete:

    ```bash
    pnpm lint
    pnpm typecheck
    pnpm build
    ```

    All commands should pass. The design-system migration is complete when:
    1. design-system/ directory is gone
    2. All imports use lib/design-system/
    3. ESLint guard blocks future design-system imports
  </action>
  <verify>pnpm lint && pnpm typecheck && pnpm build all pass</verify>
  <done>Design-system migration complete with all guards in place</done>
</task>

</tasks>

<verification>
- [ ] src/design-system/ directory does not exist
- [ ] grep finds 0 references to @/design-system
- [ ] eslint.config.mjs contains design-system import guard
- [ ] pnpm lint passes
- [ ] pnpm typecheck passes
- [ ] pnpm build passes
</verification>

<success_criteria>
design-system/ directory removed, ESLint guard active, build green
</success_criteria>

<output>
After completion, create `.planning/phases/34-full-src-consolidation/34-03-SUMMARY.md`
</output>
