---
phase: 10-token-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/homepage/Timeline.tsx
  - src/components/homepage/TestimonialsSection.tsx
  - src/components/homepage/HowItWorksTimeline.tsx
  - src/components/homepage/HomepageHero.tsx
  - src/components/homepage/CoverageSection.tsx
  - src/components/homepage/Hero.tsx
  - src/components/homepage/FloatingFood.tsx
autonomous: true

must_haves:
  truths:
    - "No hardcoded z-10 Tailwind classes remain in homepage components"
    - "Local stacking contexts in Hero.tsx and FloatingFood.tsx are documented"
    - "Negative z-index in HomepageHero uses inline style pattern"
  artifacts:
    - path: "src/components/homepage/Timeline.tsx"
      provides: "Timeline with z-dropdown token"
      contains: "z-dropdown"
    - path: "src/components/homepage/HomepageHero.tsx"
      provides: "Hero with z-dropdown and negative inline style"
      contains: "z-dropdown"
    - path: "src/components/homepage/Hero.tsx"
      provides: "Hero with documented local stacking context"
      contains: "local stacking context"
  key_links:
    - from: "src/components/homepage/*.tsx"
      to: "tailwind.config.ts"
      via: "z-dropdown class definition"
      pattern: "z-dropdown"
---

<objective>
Migrate all homepage component z-index values to design tokens.

Purpose: Replace hardcoded z-10 Tailwind classes with semantic z-dropdown tokens. Document intentional local stacking contexts in Hero.tsx and FloatingFood.tsx.
Output: 7 homepage files using consistent z-index token patterns.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-token-migration/10-RESEARCH.md
@src/design-system/tokens/z-index.ts
@tailwind.config.ts (lines 266-277 for z-index config)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate 5 homepage files to z-index tokens</name>
  <files>
    src/components/homepage/Timeline.tsx
    src/components/homepage/TestimonialsSection.tsx
    src/components/homepage/HowItWorksTimeline.tsx
    src/components/homepage/HomepageHero.tsx
    src/components/homepage/CoverageSection.tsx
  </files>
  <action>
    Replace all hardcoded z-index Tailwind classes with semantic tokens:

    | Old Class | New Class | Files |
    |-----------|-----------|-------|
    | `z-10` | `z-dropdown` | All 5 files |
    | `-z-10` | `style={{ zIndex: -10 }}` | HomepageHero.tsx only |

    For HomepageHero.tsx specifically:
    - Replace `z-10` with `z-dropdown`
    - Replace `-z-10` with inline style: `style={{ zIndex: -10 }}`
    - Add comment: `{/* Negative z-index for background layer */}`

    Do NOT add imports - these use Tailwind classes which are already configured in tailwind.config.ts.
  </action>
  <verify>
    Run: `grep -n "z-10" src/components/homepage/{Timeline,TestimonialsSection,HowItWorksTimeline,HomepageHero,CoverageSection}.tsx`
    Expected: No matches (except -z-10 which is now inline style)

    Run: `grep -n "z-dropdown" src/components/homepage/{Timeline,TestimonialsSection,HowItWorksTimeline,HomepageHero,CoverageSection}.tsx`
    Expected: Multiple matches showing successful migration
  </verify>
  <done>
    All 5 files use z-dropdown token class instead of z-10. HomepageHero.tsx uses inline style for negative z-index with explanatory comment.
  </done>
</task>

<task type="auto">
  <name>Task 2: Document local stacking contexts in Hero and FloatingFood</name>
  <files>
    src/components/homepage/Hero.tsx
    src/components/homepage/FloatingFood.tsx
  </files>
  <action>
    These files use zIndex: 1, 2, 3, 4 for local stacking within their own context. This is intentional and should NOT be migrated to global tokens.

    Add a comment block near the zIndex usage in each file:

    ```tsx
    // Local stacking context - intentionally using small numbers (1-4)
    // for relative layering within this component. Do NOT migrate to
    // global z-index tokens as these are not global layers.
    ```

    Hero.tsx: Add comment before the first zIndex usage in the parallax/stacking section
    FloatingFood.tsx: Add comment before the zIndex prop or inline style usage

    Do NOT change the actual zIndex values - only add documentation.
  </action>
  <verify>
    Run: `grep -n "Local stacking context" src/components/homepage/{Hero,FloatingFood}.tsx`
    Expected: 2 matches (one per file)

    Run: `grep -n "zIndex:" src/components/homepage/{Hero,FloatingFood}.tsx | head -5`
    Expected: Still shows small numbers (1, 2, 3, 4) - values unchanged
  </verify>
  <done>
    Hero.tsx and FloatingFood.tsx have documentation explaining why local zIndex values are intentional and should not be migrated to global tokens.
  </done>
</task>

</tasks>

<verification>
Run ESLint on homepage files:
```bash
npx eslint --no-warn-ignored src/components/homepage/{Timeline,TestimonialsSection,HowItWorksTimeline,HomepageHero,CoverageSection}.tsx 2>&1 | grep -c "z-index"
```
Expected: 0 z-index warnings for migrated files

Visual verification (optional):
- Homepage should render identically - token values match original values
</verification>

<success_criteria>
- 5 homepage files migrated from z-10 to z-dropdown
- HomepageHero.tsx negative z-index uses inline style pattern
- Hero.tsx and FloatingFood.tsx have local stacking context documentation
- ESLint z-index rule produces 0 warnings for these 7 files
</success_criteria>

<output>
After completion, create `.planning/phases/10-token-migration/10-01-SUMMARY.md`
</output>
