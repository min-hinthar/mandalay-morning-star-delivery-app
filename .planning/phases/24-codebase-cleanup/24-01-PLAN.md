---
phase: 24-codebase-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/3d/Hero3DCanvas.tsx
  - src/components/3d/ThemeAwareLighting.tsx
  - src/components/3d/Scene.tsx
  - src/components/3d/index.ts
  - src/components/3d/hooks/useGPUTier.ts
  - src/components/3d/loaders/Hero3DLoader.tsx
  - src/components/3d/models/FoodModel.tsx
  - src/components/homepage/Hero3DSection.tsx
  - src/app/(dev)/3d-test/page.tsx
  - src/app/(dev)/3d-test/RotatingCube.tsx
  - public/models/rice-bowl.glb
  - public/models/ATTRIBUTION.md
  - package.json
autonomous: true

must_haves:
  truths:
    - "No 3D-related code exists in codebase"
    - "No React Three Fiber packages in dependencies"
    - "Build passes without 3D code"
  artifacts:
    - path: "package.json"
      provides: "Dependencies without 3D packages"
      contains_none: ["@react-three/fiber", "@react-three/drei", "three"]
  key_links:
    - from: "Hero.tsx"
      to: "2D fallback only"
      via: "No Hero3DSection import"
      pattern_absent: "Hero3DSection"
---

<objective>
Remove all React Three Fiber and 3D hero code from the codebase.

Purpose: Eliminate unused 3D code added in Phases 15-16 (decision to remove 3D hero made in Phase 24 context). Reduces bundle size by ~650KB+ gzipped from three.js alone.

Output: Clean codebase with no 3D dependencies, 2D hero as permanent standard.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-codebase-cleanup/24-CONTEXT.md
@.planning/phases/24-codebase-cleanup/24-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove 3D component files and test pages</name>
  <files>
    src/components/3d/ (entire directory)
    src/components/homepage/Hero3DSection.tsx
    src/app/(dev)/3d-test/ (entire directory)
  </files>
  <action>
Delete all 3D-related code files:

1. Delete entire `src/components/3d/` directory:
   - Hero3DCanvas.tsx
   - ThemeAwareLighting.tsx
   - Scene.tsx
   - index.ts
   - hooks/useGPUTier.ts
   - loaders/Hero3DLoader.tsx
   - models/FoodModel.tsx

2. Delete `src/components/homepage/Hero3DSection.tsx`

3. Delete entire `src/app/(dev)/3d-test/` directory:
   - page.tsx
   - RotatingCube.tsx

4. Verify no broken imports with `pnpm typecheck`

Note: Hero.tsx should already use 2D fallback only. Verify no references to Hero3DSection remain.
  </action>
  <verify>
    - `ls src/components/3d/` returns "No such file or directory"
    - `ls src/app/(dev)/3d-test/` returns "No such file or directory"
    - `ls src/components/homepage/Hero3DSection.tsx` returns "No such file or directory"
    - `pnpm typecheck` passes
  </verify>
  <done>All 3D component files and test pages deleted, no TypeScript errors</done>
</task>

<task type="auto">
  <name>Task 2: Remove 3D assets and uninstall packages</name>
  <files>
    public/models/ (entire directory)
    package.json
    pnpm-lock.yaml
  </files>
  <action>
1. Delete `public/models/` directory:
   - rice-bowl.glb (3D model)
   - ATTRIBUTION.md

2. Uninstall 3D-related npm packages:
```bash
pnpm remove @react-three/fiber @react-three/drei three @react-spring/three @types/three detect-gpu
```

3. Run `pnpm install` to update lockfile

4. Verify packages removed from package.json
  </action>
  <verify>
    - `ls public/models/` returns "No such file or directory"
    - `grep -c "react-three" package.json` returns 0
    - `grep -c '"three"' package.json` returns 0
    - `grep -c "detect-gpu" package.json` returns 0
    - `pnpm build` passes
  </verify>
  <done>3D assets removed, all 6 3D packages uninstalled, build passes</done>
</task>

</tasks>

<verification>
1. `pnpm typecheck` - No TypeScript errors
2. `pnpm build` - Build succeeds without 3D code
3. `grep -r "react-three" src/` - No results
4. `grep -r "Hero3DSection" src/` - No results
5. Homepage loads with 2D hero (gradient + floating animation)
</verification>

<success_criteria>
- All 10+ 3D files deleted
- All 6 3D npm packages uninstalled
- Zero references to 3D code in codebase
- Build passes
- Homepage hero works (2D fallback)
</success_criteria>

<output>
After completion, create `.planning/phases/24-codebase-cleanup/24-01-SUMMARY.md`
</output>
