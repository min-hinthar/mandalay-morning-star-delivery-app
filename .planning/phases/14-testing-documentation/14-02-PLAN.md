---
phase: 14-testing-documentation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/01-foundation-token-system/Z-INDEX-MIGRATION.md
autonomous: true

must_haves:
  truths:
    - "Z-INDEX-MIGRATION.md reflects 0 violations (migration complete)"
    - "Z-INDEX-MIGRATION.md shows ESLint rule at error severity"
    - "Component docs have no v7-index references"
  artifacts:
    - path: ".planning/phases/01-foundation-token-system/Z-INDEX-MIGRATION.md"
      provides: "Completed migration status"
      contains: "Status: COMPLETE"
  key_links:
    - from: ".planning/phases/01-foundation-token-system/Z-INDEX-MIGRATION.md"
      to: "docs/STACKING-CONTEXT.md"
      via: "reference link"
      pattern: "STACKING-CONTEXT"
---

<objective>
Update Z-INDEX-MIGRATION.md to reflect completed migration status and verify component docs have no v7-index references.

Purpose: Complete DOCS-01 (update migration doc) and DOCS-02 (verify no v7-index in component docs). The migration doc is severely outdated (shows 64 violations when actual is 0). DOCS-02 is already clean per research - just verify.

Output: Updated Z-INDEX-MIGRATION.md showing completion; verification that DOCS-02 is satisfied.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-testing-documentation/14-RESEARCH.md
@.planning/phases/01-foundation-token-system/Z-INDEX-MIGRATION.md
@docs/STACKING-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Z-INDEX-MIGRATION.md to completion status (DOCS-01)</name>
  <files>.planning/phases/01-foundation-token-system/Z-INDEX-MIGRATION.md</files>
  <action>
Rewrite Z-INDEX-MIGRATION.md to reflect completed migration status.

New content:
```markdown
# Z-Index Migration Tracking

## Status: COMPLETE

**Migration completed:** Phase 10 (2026-01-23)
**ESLint rule upgraded to error:** Phase 13 (2026-01-23)
**Current violations:** 0
**Files migrated:** 28 files (original count)

## Summary

The z-index token migration is complete. All hardcoded z-index values have been replaced with semantic design tokens.

### Key Outcomes

| Metric | Before | After |
|--------|--------|-------|
| Violations | 64 | 0 |
| ESLint severity | warn | error |
| Token coverage | 0% | 100% |

### Token Mapping Used

| Old Pattern | New Token | Use Case |
|-------------|-----------|----------|
| z-10 | z-dropdown | Dropdowns, popovers |
| z-20 | z-sticky | Sticky headers, nav |
| z-30 | z-fixed | Fixed position elements |
| z-40 | z-modal | Modals, dialogs |
| z-50 | z-toast | Toast notifications |
| zIndex: N | zIndex.modal, zIndex.max | Inline style tokens |

### Local Stacking Contexts

Components using `isolate` class are exempt from token rules. They use inline `zIndex: 1-4` for internal layering:

- FloatingFood.tsx - food item layers
- Timeline components - step ordering
- Animation containers - sequencing

Reference: `docs/STACKING-CONTEXT.md`

## Migration History

| Phase | Work Done |
|-------|-----------|
| Phase 1 | Token system created, ESLint rule at warn |
| Phase 10 | All 28 files migrated to tokens |
| Phase 13 | ESLint rule upgraded to error |

## Verification

```bash
# Check for violations (should return 0)
pnpm lint 2>&1 | grep -c "z-index" || echo "0 violations"

# ESLint config shows error severity
grep -A2 "no-z-index-literals" eslint.config.mjs
```

---
*Migration completed: 2026-01-23*
*Last updated: 2026-01-23*
```

Match project style: terse, imperative, facts over explanations.
  </action>
  <verify>File content shows "Status: COMPLETE" and "Current violations: 0"</verify>
  <done>Z-INDEX-MIGRATION.md reflects completed migration with 0 violations and error severity</done>
</task>

<task type="auto">
  <name>Task 2: Verify component docs have no v7-index references (DOCS-02)</name>
  <files>None (verification only)</files>
  <action>
Verify that component documentation files have no v7-index references.

Run verification:
```bash
# Check docs/ directory for v7-index references
grep -r "v7-index" docs/ || echo "CLEAN: No v7-index refs in docs/"

# Check component-guide.md specifically
grep "v7-index" docs/component-guide.md || echo "component-guide.md clean"

# Check STACKING-CONTEXT.md
grep "v7-index" docs/STACKING-CONTEXT.md || echo "STACKING-CONTEXT.md clean"
```

Expected: No matches. Research confirmed v7-index refs only exist in .planning/ phase docs (not component docs).

If any refs found in docs/ (unexpected), list them for manual review.

This task produces verification output only - no file modifications unless refs are found.
  </action>
  <verify>grep commands return no matches for v7-index in docs/ directory</verify>
  <done>DOCS-02 verified: Component docs have no v7-index references</done>
</task>

</tasks>

<verification>
Verify both requirements:
```bash
# DOCS-01: Check Z-INDEX-MIGRATION.md content
grep -E "Status.*COMPLETE|violations.*0" .planning/phases/01-foundation-token-system/Z-INDEX-MIGRATION.md

# DOCS-02: Verify no v7-index in component docs
grep -r "v7-index" docs/ || echo "DOCS-02 VERIFIED: Clean"
```
</verification>

<success_criteria>
- [ ] Z-INDEX-MIGRATION.md shows "Status: COMPLETE"
- [ ] Z-INDEX-MIGRATION.md shows "Current violations: 0"
- [ ] Z-INDEX-MIGRATION.md shows ESLint rule at error severity
- [ ] Z-INDEX-MIGRATION.md references docs/STACKING-CONTEXT.md
- [ ] grep confirms no v7-index refs in docs/ directory
</success_criteria>

<output>
After completion, create `.planning/phases/14-testing-documentation/14-02-SUMMARY.md`
</output>
