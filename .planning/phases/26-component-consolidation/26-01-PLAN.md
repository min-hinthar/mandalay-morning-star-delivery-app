---
phase: 26-component-consolidation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/webgl/gradients.ts
  - src/components/theme/DynamicThemeProvider.tsx
  - scripts/audit-tokens.js
autonomous: true

must_haves:
  truths:
    - "No v7Palettes export exists in public API"
    - "DynamicThemeProvider imports clean 'palettes' name"
    - "Audit script checks for deprecated 'palettes' usage if needed"
  artifacts:
    - path: "src/lib/webgl/gradients.ts"
      provides: "Palette exports with clean names"
      contains: "export const palettes"
    - path: "src/components/theme/DynamicThemeProvider.tsx"
      provides: "Clean import without v7 prefix"
      contains: "import { palettes"
  key_links:
    - from: "src/components/theme/DynamicThemeProvider.tsx"
      to: "src/lib/webgl/gradients.ts"
      via: "named import"
      pattern: "import.*palettes.*from.*gradients"
---

<objective>
Clean up V7 naming remnants in public APIs.

Purpose: Remove legacy v7 prefixes from exported constants to create clean public API names before component consolidation.
Output: gradients.ts exports `palettes` instead of `v7Palettes`, all consumers updated.
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/26-component-consolidation/26-CONTEXT.md
@.planning/phases/26-component-consolidation/26-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename v7Palettes export in gradients.ts</name>
  <files>src/lib/webgl/gradients.ts</files>
  <action>
In gradients.ts, perform these renames:
1. Rename `export const v7Palettes` to `export const palettes`
2. Update all internal references from `v7Palettes` to `palettes` (lines 107, 113, 116, 119, 298)
3. Keep the structure identical — only change the name

Do NOT change any other exports or functionality.
  </action>
  <verify>
Run: grep -n "v7Palettes" src/lib/webgl/gradients.ts
Expected: No matches
Run: grep -n "export const palettes" src/lib/webgl/gradients.ts
Expected: Line shows the export
  </verify>
  <done>v7Palettes renamed to palettes in gradients.ts with all internal references updated</done>
</task>

<task type="auto">
  <name>Task 2: Update DynamicThemeProvider import</name>
  <files>src/components/theme/DynamicThemeProvider.tsx</files>
  <action>
Update the import statement on line 12:
FROM: `import { v7Palettes, getTimeOfDayPalette } from "@/lib/webgl/gradients";`
TO: `import { palettes, getTimeOfDayPalette } from "@/lib/webgl/gradients";`

Update usage on line 238:
FROM: `if (!isDynamicEnabled) return [...v7Palettes.brand];`
TO: `if (!isDynamicEnabled) return [...palettes.brand];`
  </action>
  <verify>
Run: grep -n "v7Palettes" src/components/theme/DynamicThemeProvider.tsx
Expected: No matches
Run: grep -n "palettes" src/components/theme/DynamicThemeProvider.tsx
Expected: Import and usage lines shown
  </verify>
  <done>DynamicThemeProvider uses clean 'palettes' import and reference</done>
</task>

<task type="auto">
  <name>Task 3: Update audit script pattern</name>
  <files>scripts/audit-tokens.js</files>
  <action>
The audit script currently checks for `v7Palettes` as a warning. After our rename, this pattern is no longer needed for the renamed export, but keep it to catch any stale references that might be introduced.

No changes needed — the audit script pattern `v7Palettes` will now catch any accidental reintroduction of the old name.
  </action>
  <verify>
Run: grep "v7Palettes" scripts/audit-tokens.js
Expected: Pattern still exists in the audit rules (catches stale refs)
  </verify>
  <done>Audit script continues to catch v7Palettes as deprecated pattern</done>
</task>

</tasks>

<verification>
Run verification commands:
```bash
pnpm typecheck
pnpm build
```

Grep verification:
```bash
# No v7Palettes in source (except audit script which catches it)
grep -r "v7Palettes" src/ --include="*.ts" --include="*.tsx" | wc -l
# Expected: 0
```
</verification>

<success_criteria>
- No TypeScript errors
- Build succeeds
- No v7Palettes references in src/ directory
- palettes export available and working
- Requirement COMP-01 partially satisfied (v7 naming cleanup)
</success_criteria>

<output>
After completion, create `.planning/phases/26-component-consolidation/26-01-SUMMARY.md`
</output>
