---
phase: 26-component-consolidation
plan: 05
type: execute
wave: 2
depends_on: ["26-02", "26-03"]
files_modified:
  - src/components/ui/menu/BlurImage.tsx
  - src/components/ui/menu/CategoryTabs.tsx
  - src/components/ui/menu/EmojiPlaceholder.tsx
  - src/components/ui/menu/FavoriteButton.tsx
  - src/components/ui/menu/ItemDetailSheet.tsx
  - src/components/ui/menu/MenuContent.tsx
  - src/components/ui/menu/MenuGrid.tsx
  - src/components/ui/menu/MenuSection.tsx
  - src/components/ui/menu/MenuSkeleton.tsx
  - src/components/ui/menu/SearchAutocomplete.tsx
  - src/components/ui/menu/SearchInput.tsx
  - src/components/ui/menu/index.ts
autonomous: true

must_haves:
  truths:
    - "All menu components moved from ui-v8/menu to ui/menu"
    - "V8 suffixes removed from component names"
    - "Menu components use relative ui/ imports for overlays"
  artifacts:
    - path: "src/components/ui/menu/MenuContent.tsx"
      provides: "Menu content (renamed from MenuContentV8)"
    - path: "src/components/ui/menu/CategoryTabs.tsx"
      provides: "Category tabs (renamed from CategoryTabsV8)"
    - path: "src/components/ui/menu/ItemDetailSheet.tsx"
      provides: "Item detail sheet (renamed from ItemDetailSheetV8)"
    - path: "src/components/ui/menu/MenuSkeleton.tsx"
      provides: "Menu skeleton (renamed from MenuSkeletonV8)"
    - path: "src/components/ui/menu/index.ts"
      provides: "Barrel export for menu components"
  key_links:
    - from: "src/components/ui/menu/ItemDetailSheet.tsx"
      to: "src/components/ui/Modal.tsx"
      via: "import"
      pattern: "import.*Modal.*from"
---

<objective>
Migrate menu components from ui-v8/menu/ to ui/menu/ with name cleanup.

Purpose: Move all menu-related components, remove V8 suffixes, update internal imports.
Output: Clean menu components in ui/menu/ with proper barrel export.
</objective>

<execution_context>
@C:\Users\minkk\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\minkk\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/26-component-consolidation/26-CONTEXT.md
@.planning/phases/26-component-consolidation/26-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ui/menu directory and move components</name>
  <files>src/components/ui/menu/</files>
  <action>
1. Create menu directory in ui/:
   ```bash
   mkdir -p src/components/ui/menu
   ```

2. Move non-V8-suffixed components:
   ```bash
   git mv src/components/ui-v8/menu/BlurImage.tsx src/components/ui/menu/
   git mv src/components/ui-v8/menu/EmojiPlaceholder.tsx src/components/ui/menu/
   git mv src/components/ui-v8/menu/FavoriteButton.tsx src/components/ui/menu/
   git mv src/components/ui-v8/menu/SearchAutocomplete.tsx src/components/ui/menu/
   ```

3. Move and rename V8-suffixed components:
   ```bash
   git mv src/components/ui-v8/menu/CategoryTabsV8.tsx src/components/ui/menu/CategoryTabs.tsx
   git mv src/components/ui-v8/menu/ItemDetailSheetV8.tsx src/components/ui/menu/ItemDetailSheet.tsx
   git mv src/components/ui-v8/menu/MenuContentV8.tsx src/components/ui/menu/MenuContent.tsx
   git mv src/components/ui-v8/menu/MenuGridV8.tsx src/components/ui/menu/MenuGrid.tsx
   git mv src/components/ui-v8/menu/MenuSectionV8.tsx src/components/ui/menu/MenuSection.tsx
   git mv src/components/ui-v8/menu/MenuSkeletonV8.tsx src/components/ui/menu/MenuSkeleton.tsx
   git mv src/components/ui-v8/menu/SearchInputV8.tsx src/components/ui/menu/SearchInput.tsx
   ```

4. If ui-v8/menu/index.ts exists, move it:
   ```bash
   git mv src/components/ui-v8/menu/index.ts src/components/ui/menu/index.ts 2>/dev/null || echo "No index.ts"
   ```
  </action>
  <verify>
- All files exist in src/components/ui/menu/
- src/components/ui-v8/menu/ is empty
  </verify>
  <done>Menu components moved to ui/menu/ with V8 suffix removed from filenames</done>
</task>

<task type="auto">
  <name>Task 2: Update component names and imports inside menu files</name>
  <files>src/components/ui/menu/*.tsx</files>
  <action>
For each moved file, update:

1. **Component export names** (remove V8 suffix):
   - `CategoryTabsV8` -> `CategoryTabs`
   - `ItemDetailSheetV8` -> `ItemDetailSheet`
   - `MenuContentV8` -> `MenuContent`
   - `MenuGridV8` -> `MenuGrid`
   - `MenuSectionV8` -> `MenuSection`
   - `MenuSkeletonV8` -> `MenuSkeleton`
   - `SearchInputV8` -> `SearchInput`
   - `MenuItemCardV8Skeleton` -> `MenuItemCardSkeleton` (if present)

2. **Internal imports** from ui-v8 to ui:
   - FROM: `from "@/components/ui-v8/Modal"` or `from "@/components/ui-v8/BottomSheet"`
   - TO: `from "@/components/ui"` (or relative paths)

3. **Cross-references within menu**:
   - Update any imports between menu components to use clean names

4. **ItemDetailSheet specifics**:
   - Uses Modal and BottomSheet â€” update to use new paths
   - BottomSheet imports should become `Drawer` with `position="bottom"`
  </action>
  <verify>
- No "V8" in component names within menu files
- No imports from "@/components/ui-v8"
  </verify>
  <done>Menu component names and imports cleaned up</done>
</task>

<task type="auto">
  <name>Task 3: Create or update menu barrel export</name>
  <files>src/components/ui/menu/index.ts</files>
  <action>
Create (or update if moved) index.ts in ui/menu/:

```typescript
// Menu Components
export { BlurImage } from "./BlurImage";
export { CategoryTabs } from "./CategoryTabs";
export { EmojiPlaceholder, getCategoryEmoji } from "./EmojiPlaceholder";
export { FavoriteButton } from "./FavoriteButton";
export { ItemDetailSheet } from "./ItemDetailSheet";
export { MenuContent } from "./MenuContent";
export { MenuGrid } from "./MenuGrid";
export { MenuSection } from "./MenuSection";
export { MenuSkeleton, MenuItemCardSkeleton } from "./MenuSkeleton";
export { SearchAutocomplete } from "./SearchAutocomplete";
export { SearchInput } from "./SearchInput";

// Type exports if any
export type { CategoryTabsProps } from "./CategoryTabs";
export type { ItemDetailSheetProps } from "./ItemDetailSheet";
export type { MenuContentProps } from "./MenuContent";
export type { MenuGridProps } from "./MenuGrid";
export type { MenuSectionProps } from "./MenuSection";
export type { SearchInputProps } from "./SearchInput";
```

Adjust based on actual exports.
  </action>
  <verify>
- src/components/ui/menu/index.ts exists
- All menu components exported with clean names
  </verify>
  <done>Menu barrel export created with clean names</done>
</task>

</tasks>

<verification>
```bash
# Check directory structure
ls src/components/ui/menu/

# Check no V8 in component names
grep -r "export.*V8" src/components/ui/menu/ && echo "ERROR: V8 suffix found" || echo "OK: no V8 suffix"

# Check no ui-v8 imports
grep -r "ui-v8" src/components/ui/menu/ && echo "ERROR: ui-v8 import found" || echo "OK: no ui-v8 imports"

# TypeScript check
pnpm typecheck
```
</verification>

<success_criteria>
- All 11 menu components in ui/menu/
- No V8 suffix in component export names
- No imports from ui-v8
- Barrel export exists
- No TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/26-component-consolidation/26-05-SUMMARY.md`
</output>
