---
phase: 13-legacy-removal-stricter-rules
plan: 05
type: execute
wave: 2
depends_on: [13-01, 13-02, 13-03, 13-04]
files_modified:
  - tsconfig.json
autonomous: true

must_haves:
  truths:
    - "TypeScript builds with noUnusedLocals enabled"
    - "TypeScript builds with noUnusedParameters enabled"
    - "pnpm typecheck passes with zero errors"
  artifacts:
    - path: "tsconfig.json"
      provides: "Stricter TypeScript configuration"
      contains: "noUnusedLocals"
  key_links:
    - from: "tsconfig.json"
      to: "all .ts/.tsx files"
      via: "TypeScript compilation"
      pattern: "noUnusedLocals.*true"
---

<objective>
Enable TypeScript strict flags after all violations are fixed.

Purpose: Enable noUnusedLocals and noUnusedParameters in tsconfig.json to catch dead code at compile time. This prevents regression by making unused variables a build error.

Output: tsconfig.json with strict flags enabled, typecheck passing.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-legacy-removal-stricter-rules/13-RESEARCH.md
@.planning/phases/13-legacy-removal-stricter-rules/13-01-SUMMARY.md
@.planning/phases/13-legacy-removal-stricter-rules/13-02-SUMMARY.md
@.planning/phases/13-legacy-removal-stricter-rules/13-03-SUMMARY.md
@.planning/phases/13-legacy-removal-stricter-rules/13-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify all violations fixed</name>
  <files>None (verification only)</files>
  <action>
Before enabling strict flags, verify all TypeScript violations are fixed:

```bash
npx tsc --noUnusedLocals --noUnusedParameters --noEmit 2>&1 | grep -c "TS6133"
```

Expected: 0

If any violations remain, do NOT proceed. List the remaining files and stop.
  </action>
  <verify>
`npx tsc --noUnusedLocals --noUnusedParameters --noEmit 2>&1 | grep -c "TS6133"` returns 0
  </verify>
  <done>Zero TS6133 errors - safe to enable strict flags.</done>
</task>

<task type="auto">
  <name>Task 2: Enable TypeScript strict flags</name>
  <files>tsconfig.json</files>
  <action>
Add stricter TypeScript compiler options to tsconfig.json:

```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noEmit": true,
    // ... rest unchanged
  }
}
```

Add `"noUnusedLocals": true` and `"noUnusedParameters": true` after the existing `"strict": true` line.
  </action>
  <verify>
`pnpm typecheck` passes with exit code 0
  </verify>
  <done>tsconfig.json has noUnusedLocals and noUnusedParameters enabled, typecheck passes.</done>
</task>

</tasks>

<verification>
Run after all tasks:
```bash
pnpm typecheck
```
Expected: Exit code 0, no errors.

Verify strict flags active:
```bash
grep -E "noUnused" tsconfig.json
```
Expected: Both flags present and set to true.
</verification>

<success_criteria>
- [ ] tsconfig.json contains `"noUnusedLocals": true`
- [ ] tsconfig.json contains `"noUnusedParameters": true`
- [ ] `pnpm typecheck` passes with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/13-legacy-removal-stricter-rules/13-05-SUMMARY.md`
</output>
