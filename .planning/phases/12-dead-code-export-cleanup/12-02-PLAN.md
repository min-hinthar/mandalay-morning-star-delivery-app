---
phase: 12-dead-code-export-cleanup
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/index.ts
  - src/components/checkout/index.ts
  - src/components/ui/skeleton.tsx
autonomous: true

must_haves:
  truths:
    - "ui/index.ts contains only actively-used exports"
    - "checkout/index.ts has no Legacy* exports"
    - "skeleton.tsx has no default export"
    - "Build passes after export removal"
  artifacts:
    - path: "src/components/ui/index.ts"
      provides: "Clean UI barrel with only used exports"
      removes:
        - "LegacyModal"
        - "DropdownAction"
        - "Confetti"
    - path: "src/components/checkout/index.ts"
      provides: "Clean checkout barrel with no legacy exports"
      removes:
        - "AddressStepLegacy"
        - "TimeStepLegacy"
        - "PaymentStepLegacy"
        - "CheckoutSummaryLegacy"
        - "AddressCardLegacy"
    - path: "src/components/ui/skeleton.tsx"
      provides: "Skeleton without unused default export"
      removes:
        - "default export"
  key_links:
    - from: "barrel files"
      to: "codebase"
      via: "import statements"
      pattern: "from.*@/components/ui"
---

<objective>
Clean up dead exports from UI and checkout barrel files.

Purpose: Remove exports with zero references to reduce barrel file size and prevent accidental use of dead code. These exports were identified by knip as having 0 imports.
Output: Cleaner barrel files with only actively-used exports
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-analysis-component-creation/dead-code-report.md
@src/components/ui/index.ts
@src/components/checkout/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Clean ui/index.ts dead exports</name>
  <files>src/components/ui/index.ts</files>
  <action>
Remove these 3 dead exports from src/components/ui/index.ts:

1. **Line 107**: Remove `export { Modal as LegacyModal } from "./Modal";`
   - LegacyModal has 0 references
   - Keep the Modal component itself (exported from overlay-base)

2. **Line 149**: Remove `export { DropdownAction } from "./DropdownAction";`
   - DropdownAction has 0 references
   - The DropdownAction.tsx file itself will be deleted in 12-03

3. **Line 258**: Remove `export { Confetti } from "./Confetti";`
   - Confetti has 0 references
   - The Confetti.tsx file will be deleted in 12-03

After removal, the file should have ~256 lines instead of ~259.

Verify no imports reference these exports:
```bash
grep -r "LegacyModal\|DropdownAction\|Confetti" src/ --include="*.tsx" --include="*.ts" | grep -v "index.ts" | grep -v "\.tsx:.*export"
```

Should return empty (no usages).
  </action>
  <verify>`pnpm typecheck` passes, grep finds no usages of removed exports</verify>
  <done>3 dead exports removed from ui/index.ts</done>
</task>

<task type="auto">
  <name>Task 2: Clean checkout/index.ts legacy exports</name>
  <files>src/components/checkout/index.ts</files>
  <action>
Remove these 5 legacy exports from src/components/checkout/index.ts (lines 27-34):

```typescript
// REMOVE these lines:
export { AddressStep as AddressStepLegacy } from "./AddressStep";
export { TimeStep as TimeStepLegacy } from "./TimeStep";
export { PaymentStep as PaymentStepLegacy } from "./PaymentStep";
export { CheckoutSummary as CheckoutSummaryLegacy } from "./CheckoutSummary";
export { AddressCard as AddressCardLegacy } from "./AddressCard";
```

These Legacy* aliases have 0 references. The V8 versions are already exported and actively used.

The file should go from ~62 lines to ~57 lines after removal.

Verify no imports reference these exports:
```bash
grep -rE "(AddressStepLegacy|TimeStepLegacy|PaymentStepLegacy|CheckoutSummaryLegacy|AddressCardLegacy)" src/ --include="*.tsx" --include="*.ts"
```

Should return empty (no usages).
  </action>
  <verify>`pnpm typecheck` passes, grep finds no usages of removed exports</verify>
  <done>5 legacy exports removed from checkout/index.ts</done>
</task>

<task type="auto">
  <name>Task 3: Remove skeleton.tsx default export</name>
  <files>src/components/ui/skeleton.tsx</files>
  <action>
Remove the unused default export from src/components/ui/skeleton.tsx.

Find and remove this line (around line 472):
```typescript
export default Skeleton;
```

The named export `Skeleton` is still used and must remain. Only the default export is unused.

Verify:
```bash
grep -r "from.*skeleton" src/ --include="*.tsx" --include="*.ts" | grep -v "default"
```

All imports should be named imports like `import { Skeleton } from`, not default imports.
  </action>
  <verify>`pnpm typecheck` passes, no default imports of skeleton found</verify>
  <done>Unused default export removed from skeleton.tsx</done>
</task>

</tasks>

<verification>
```bash
# Verify dead exports are removed
grep -E "LegacyModal|DropdownAction|Confetti" src/components/ui/index.ts && echo "FAIL: ui exports not cleaned" || echo "PASS: ui exports cleaned"

grep -E "Legacy" src/components/checkout/index.ts && echo "FAIL: checkout legacy exports not cleaned" || echo "PASS: checkout exports cleaned"

grep "export default Skeleton" src/components/ui/skeleton.tsx && echo "FAIL: skeleton default not removed" || echo "PASS: skeleton default removed"

# Full verification
pnpm lint && pnpm typecheck && pnpm test && pnpm build
```
</verification>

<success_criteria>
- [ ] ui/index.ts: LegacyModal, DropdownAction, Confetti exports removed
- [ ] checkout/index.ts: 5 Legacy* exports removed
- [ ] skeleton.tsx: default export removed
- [ ] `pnpm typecheck` passes
- [ ] `pnpm build` passes
</success_criteria>

<output>
After completion, create `.planning/phases/12-dead-code-export-cleanup/12-02-SUMMARY.md`
</output>
