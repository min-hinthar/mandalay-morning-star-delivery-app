---
phase: 12-dead-code-export-cleanup
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/admin/KPICard.tsx
  - src/components/admin/OperationsKPICard.tsx
  - src/components/cart/AddToCart.tsx
  - src/components/cart/CartDrawer.tsx
  - src/components/cart/CartItem.tsx
  - src/components/cart/CartSummary.tsx
  - src/components/cart/CartSummaryCompact.tsx
  - src/components/cart/CartSummarySkeleton.tsx
  - src/components/cart/cart-item.tsx
  - src/components/checkout/CheckoutStepper.tsx
  - src/components/checkout/UpsellSection.tsx
  - src/components/driver/DriverHomeContent.tsx
  - src/components/driver/RouteCard.tsx
  - src/components/layout/mobile-menu.tsx
  - src/components/layout/mobile-nav.tsx
  - src/components/homepage/HomepageHero.tsx
  - src/components/homepage/HowItWorksTimeline.tsx
  - src/components/homepage/TestimonialsSection.tsx
  - src/components/ui/Carousel.tsx
  - src/components/ui/ExpandingCard.tsx
  - src/components/ui/FlipCard.tsx
  - src/components/ui/Toggle.tsx
  - src/components/ui/form-field.tsx
  - src/components/ui/scroll-reveal.tsx
autonomous: true

must_haves:
  truths:
    - "No unused component files exist in components/"
    - "admin/index.ts is verified as minimal and correct"
    - "Build passes after all file deletions"
    - "knip shows reduced dead code count"
  artifacts:
    - path: "src/components/admin/index.ts"
      provides: "Verified minimal admin barrel (5 exports)"
      status: "unchanged - already correct"
    - path: "src/components/admin/"
      provides: "Only actively-used admin components"
      removed:
        - KPICard.tsx
        - OperationsKPICard.tsx
    - path: "src/components/cart/"
      provides: "Only actively-used cart components"
      removed:
        - AddToCart.tsx
        - CartDrawer.tsx
        - CartItem.tsx
        - CartSummary.tsx
        - CartSummaryCompact.tsx
        - CartSummarySkeleton.tsx
        - cart-item.tsx
  key_links:
    - from: "dead-code-report.md"
      to: "deleted files"
      via: "knip zero-reference analysis"
      pattern: "Reference Count.*0"
---

<objective>
Delete unused component files and verify admin barrel consolidation.

Purpose: Remove dead component files identified by knip analysis. Verify admin/index.ts is already minimal (no consolidation needed - v7-index will be deleted in Phase 13).
Output: 24 fewer component files, verified admin barrel
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-analysis-component-creation/dead-code-report.md
@src/components/admin/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Delete unused admin and cart component files</name>
  <files>
    src/components/admin/KPICard.tsx
    src/components/admin/OperationsKPICard.tsx
    src/components/cart/AddToCart.tsx
    src/components/cart/CartDrawer.tsx
    src/components/cart/CartItem.tsx
    src/components/cart/CartSummary.tsx
    src/components/cart/CartSummaryCompact.tsx
    src/components/cart/CartSummarySkeleton.tsx
    src/components/cart/cart-item.tsx
  </files>
  <action>
Delete these 9 unused component files:

```bash
# Admin components (2 files)
rm src/components/admin/KPICard.tsx
rm src/components/admin/OperationsKPICard.tsx

# Cart components (7 files)
rm src/components/cart/AddToCart.tsx
rm src/components/cart/CartDrawer.tsx
rm src/components/cart/CartItem.tsx
rm src/components/cart/CartSummary.tsx
rm src/components/cart/CartSummaryCompact.tsx
rm src/components/cart/CartSummarySkeleton.tsx
rm src/components/cart/cart-item.tsx
```

These files have 0 references per knip analysis. The V8 cart components in ui-v8/cart/ are the active versions.

Note: Do NOT delete cart/v7-index.ts - that's Phase 13 work.

Run `pnpm typecheck` after deletion.
  </action>
  <verify>`pnpm typecheck` passes</verify>
  <done>9 unused admin/cart component files deleted</done>
</task>

<task type="auto">
  <name>Task 2: Delete unused checkout, driver, layout, homepage components</name>
  <files>
    src/components/checkout/CheckoutStepper.tsx
    src/components/checkout/UpsellSection.tsx
    src/components/driver/DriverHomeContent.tsx
    src/components/driver/RouteCard.tsx
    src/components/layout/mobile-menu.tsx
    src/components/layout/mobile-nav.tsx
    src/components/homepage/HomepageHero.tsx
    src/components/homepage/HowItWorksTimeline.tsx
    src/components/homepage/TestimonialsSection.tsx
  </files>
  <action>
Delete these 9 unused component files:

```bash
# Checkout components (2 files)
rm src/components/checkout/CheckoutStepper.tsx
rm src/components/checkout/UpsellSection.tsx

# Driver components (2 files)
rm src/components/driver/DriverHomeContent.tsx
rm src/components/driver/RouteCard.tsx

# Layout components (2 files)
rm src/components/layout/mobile-menu.tsx
rm src/components/layout/mobile-nav.tsx

# Homepage components (3 files)
rm src/components/homepage/HomepageHero.tsx
rm src/components/homepage/HowItWorksTimeline.tsx
rm src/components/homepage/TestimonialsSection.tsx
```

These files have 0 references per knip analysis. V8 versions or alternative components are in use.

Note: Do NOT delete v7-index.ts files in these directories - that's Phase 13 work.

Run `pnpm typecheck` after deletion.
  </action>
  <verify>`pnpm typecheck` passes</verify>
  <done>9 unused component files deleted</done>
</task>

<task type="auto">
  <name>Task 3: Delete unused UI component files and final verification</name>
  <files>
    src/components/ui/Carousel.tsx
    src/components/ui/ExpandingCard.tsx
    src/components/ui/FlipCard.tsx
    src/components/ui/Toggle.tsx
    src/components/ui/form-field.tsx
    src/components/ui/scroll-reveal.tsx
  </files>
  <action>
Delete these 6 unused UI component files:

```bash
rm src/components/ui/Carousel.tsx
rm src/components/ui/ExpandingCard.tsx
rm src/components/ui/FlipCard.tsx
rm src/components/ui/Toggle.tsx
rm src/components/ui/form-field.tsx
rm src/components/ui/scroll-reveal.tsx
```

These files have 0 references per knip analysis. They were V6/V7 era components replaced by V8 patterns.

Note: Do NOT delete ui/v7-index.ts - that's Phase 13 work.

After deletion, verify admin/index.ts is correct (should have 5 exports):
```bash
cat src/components/admin/index.ts
# Should show: AdminNav, OrdersTable, AdminOrder (type), RevenueChart, PopularItems
```

admin/index.ts is already minimal and correct. The v7-index.ts (with 13 unused exports) will be deleted in Phase 13. No consolidation needed - EXPT-03 requirement satisfied by verifying current state.

Run full verification suite:
```bash
pnpm lint && pnpm lint:css && pnpm typecheck && pnpm test && pnpm build
```
  </action>
  <verify>All verification commands pass, admin/index.ts verified as correct</verify>
  <done>6 UI files deleted, admin barrel verified, full build passes</done>
</task>

</tasks>

<verification>
```bash
# Verify all target files are deleted
for f in \
  src/components/admin/KPICard.tsx \
  src/components/admin/OperationsKPICard.tsx \
  src/components/cart/AddToCart.tsx \
  src/components/cart/CartDrawer.tsx \
  src/components/cart/CartItem.tsx \
  src/components/cart/CartSummary.tsx \
  src/components/cart/CartSummaryCompact.tsx \
  src/components/cart/CartSummarySkeleton.tsx \
  src/components/cart/cart-item.tsx \
  src/components/checkout/CheckoutStepper.tsx \
  src/components/checkout/UpsellSection.tsx \
  src/components/driver/DriverHomeContent.tsx \
  src/components/driver/RouteCard.tsx \
  src/components/layout/mobile-menu.tsx \
  src/components/layout/mobile-nav.tsx \
  src/components/homepage/HomepageHero.tsx \
  src/components/homepage/HowItWorksTimeline.tsx \
  src/components/homepage/TestimonialsSection.tsx \
  src/components/ui/Carousel.tsx \
  src/components/ui/ExpandingCard.tsx \
  src/components/ui/FlipCard.tsx \
  src/components/ui/Toggle.tsx \
  src/components/ui/form-field.tsx \
  src/components/ui/scroll-reveal.tsx; do
  [ -f "$f" ] && echo "STILL EXISTS: $f" || echo "DELETED: $f"
done

# Verify admin/index.ts is minimal (5 exports)
wc -l src/components/admin/index.ts  # Should be ~6 lines

# Verify v7-index files still exist (they're Phase 13)
ls src/components/*/v7-index.ts 2>/dev/null | wc -l  # Should be 10

# Full verification
pnpm lint && pnpm lint:css && pnpm typecheck && pnpm test && pnpm build
```
</verification>

<success_criteria>
- [ ] 24 unused component files deleted
- [ ] admin/index.ts verified as minimal (5 exports)
- [ ] v7-index.ts files still exist (Phase 13 work)
- [ ] `pnpm typecheck` passes
- [ ] `pnpm build` passes
- [ ] `pnpm test` passes
</success_criteria>

<output>
After completion, create `.planning/phases/12-dead-code-export-cleanup/12-03-SUMMARY.md`
</output>
